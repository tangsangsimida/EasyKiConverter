# 用户手册

本手册详细介绍了 EasyKiConverter 的所有功能和使用方法。

## 目录

- [安装](#系统要求)
- [界面介绍](#主界面)
- [基本操作](#添加元件)
- [高级功能](#批量转换)
- [配置选项](#输出设置)
- [故障排除](#常见问题)

## 安装

### 系统要求

- 操作系统：Windows 10/11（推荐）、macOS 10.15+ 或 Linux
- 内存：4GB RAM 最低，8GB 推荐
- 磁盘空间：100MB 用于应用程序，额外空间用于转换后的文件
- 网络：用于下载元件数据和 3D 模型的互联网连接

### 安装步骤

#### Windows

1. 从 [GitHub Releases](https://github.com/tangsangsimida/EasyKiConverter_QT/releases) 下载最新版本
2. 解压下载的压缩包
3. 双击 `EasyKiConverter.exe` 运行应用程序

#### macOS

1. 从 [GitHub Releases](https://github.com/tangsangsimida/EasyKiConverter_QT/releases) 下载最新版本
2. 解压下载的压缩包
3. 双击 `EasyKiConverter.app` 运行应用程序

#### Linux

1. 从 [GitHub Releases](https://github.com/tangsangsimida/EasyKiConverter_QT/releases) 下载最新版本
2. 解压下载的压缩包
3. 运行 `./EasyKiConverter` 启动应用程序

## 界面介绍

### 主窗口

主窗口包含以下主要区域：

1. **元件输入区域**
   - 元件编号输入框
   - 添加按钮
   - 智能提取按钮
   - BOM 导入按钮

2. **元件列表区域**
   - 显示已添加的元件
   - 元件编号和名称
   - 状态指示器
   - 删除按钮

3. **导出设置区域**
   - 导出目录选择
   - 导出类型选择（符号、封装、3D 模型）
   - 覆盖文件选项
   - 调试导出选项

4. **进度显示区域**
   - 进度条
   - 状态消息
   - 成功/失败计数

5. **结果展示区域**
   - 转换结果列表
   - 详细信息查看
   - 文件位置链接

### 主题切换

点击右上角的主题切换按钮可以在深色模式和浅色模式之间切换。

## 基本操作

### 添加元件

#### 方法一：手动输入

1. 在元件编号输入框中输入 LCSC 元件编号（例如：C123456）
2. 点击"添加"按钮或按 Enter 键
3. 元件将被添加到列表中

#### 方法二：智能提取

1. 从任何来源复制元件编号（例如：BOM 表、网站）
2. 点击"智能提取"按钮
3. 应用程序将自动提取有效的元件编号
4. 点击"添加"按钮添加所有提取的元件

#### 方法三：BOM 导入

1. 点击"BOM 导入"按钮
2. 选择您的 BOM 文件（CSV 或 Excel 格式）
3. 应用程序将解析并导入所有元件

### 配置导出设置

1. 点击"浏览"按钮选择导出目录
2. 勾选要导出的类型（至少选择一项）：
   - 符号（.kicad_sym）
   - 封装（.kicad_mod）
   - 3D 模型（WRL、STEP、OBJ）
3. 配置其他选项：
   - 覆盖已存在的文件
   - 启用调试导出（仅限开发者）
4. **注意**：所有设置修改后会即时自动保存，无需手动点击保存按钮。

### 开始转换

1. 确认所有元件已添加到列表
2. 确保至少选择了一个导出类型（否则"开始转换"按钮将不可用）
3. 点击"开始转换"按钮
4. 等待转换完成
5. 在进度区域查看转换进度

### 查看结果

转换完成后：

1. 在结果列表中查看每个元件的转换状态
2. 点击元件项查看详细信息
3. 点击文件位置链接打开导出目录
4. 在 KiCad 中使用转换后的文件

## 高级功能

### 层映射

EasyKiConverter 自动将 EasyEDA 图层映射到 KiCad 图层。支持的图层包括：

- 信号层（顶层、底层、内层 1-32）
- 丝印层（顶层、底层）
- 阻焊层（顶层、底层）
- 助焊层（顶层、底层）
- 机械层
- 用户层
- 板边层
- 制造层

### 多边形焊盘

支持自定义形状焊盘的正确导出：

- 自动生成 primitives 块
- 坐标转换
- 尺寸优化
- KiCad 兼容性

### 椭圆弧计算

精确的圆弧计算支持复杂几何形状：

- 完整算法实现
- SVG 弧参数解析
- 圆心和角度计算
- KiCad 格式输出

### 文本层处理

支持类型 "N" 的特殊处理和镜像文本处理：

- 类型 "N" 文本处理
- 镜像文本支持
- 层映射
- 字体效果

### 批量转换

支持多个元件同时转换：

- 并行数据收集
- 串行数据导出
- 进度追踪
- 错误隔离

### 智能提取

从剪贴板文本中智能提取元件编号：

- 自动识别元件编号格式
- 批量提取
- 格式验证
- 用户友好界面

## 配置选项

### 主题设置

1. 点击主题切换按钮
2. 选择主题：
   - 浅色模式
   - 深色模式
   - 系统默认

### 导出设置

1. 点击"设置"按钮
2. 配置默认导出选项：
   - 默认导出目录
   - 默认导出类型
   - 覆盖行为
3. 设置修改即时生效并自动保存，无需额外操作。

### 调试设置

仅限开发者使用：

1. 在设置中启用调试导出
2. 原始数据和导出数据将被保存
3. 检查调试目录以获取详细日志

## 在 KiCad 中使用转换后的元件

### 导入符号库

1. 打开 KiCad
2. 转到"首选项" -> "管理符号库"
3. 点击"添加现有库"
4. 导航到导出目录
5. 选择 `.kicad_sym` 文件
6. 点击"确定"

### 导入封装库

1. 打开 KiCad
2. 转到"首选项" -> "管理封装库"
3. 点击"添加现有库"
4. 导航到导出目录
5. 选择 `.pretty` 文件夹
6. 点击"确定"

### 使用元件

1. 在 KiCad 原理图编辑器中，按 "A" 添加元件
2. 按名称搜索您的元件
3. 将元件放置在原理图中
4. 在 PCB 编辑器中，封装将自动关联

### 查看 3D 模型

1. 在 KiCad PCB 编辑器中
2. 按 "Alt + 3" 查看 3D 模型
3. 旋转和平移以查看模型
4. 验证模型位置和方向

## 键盘快捷键

- `Enter` - 从输入框添加元件
- `Ctrl+V` - 粘贴并提取元件编号
- `Ctrl+A` - 选择所有元件
- `Delete` - 删除选中的元件
- `F5` - 刷新元件列表
- `Ctrl+E` - 打开导出设置
- `Ctrl+C` - 开始转换

## 最佳实践

### 元件输入

- 使用智能提取快速添加多个元件
- 导入 BOM 文件进行批量转换
- 保留常用元件编号列表

### 导出组织

- 为不同项目创建单独的文件夹
- 使用描述性文件夹名称
- 将符号和封装库放在一起

### 性能优化

- 一次转换多个元件以获得更好的性能
- 对大批量使用并行转换
- 关闭其他应用程序以释放资源

### 质量控制

- 在生产中使用前验证转换后的元件
- 保留元件库的备份
- 对库文件使用版本控制

## 故障排除

### 问题：找不到元件

**解决方案：**
- 验证元件编号是否正确
- 检查元件是否存在于 LCSC 数据库中
- 确保您有互联网连接

### 问题：转换失败

**解决方案：**
- 检查结果列表中的错误消息
- 验证元件数据是否可用
- 尝试再次转换元件

### 问题：未下载 3D 模型

**解决方案：**
- 确保在导出设置中启用了"3D 模型"
- 检查元件是否有 3D 模型
- 验证您的互联网连接

### 问题：在 KiCad 中找不到文件

**解决方案：**
- 验证 KiCad 设置中的库路径
- 检查文件是否在正确的目录中
- 刷新 KiCad 的库列表

### 问题：应用程序崩溃

**解决方案：**
- 检查系统要求
- 更新到最新版本
- 查看错误日志
- 在 GitHub 上报告问题

## 更多资源

- [快速开始](GETTING_STARTED.md) - 快速入门指南
- [功能特性](FEATURES.md) - 了解所有功能
- [常见问题](FAQ.md) - 常见问题解答
- [GitHub Issues](https://github.com/tangsangsimida/EasyKiConverter_QT/issues) - 报告问题和请求功能

## 支持

如果您需要帮助：

1. 查看本文档
2. 搜索现有的 GitHub Issues
3. 创建包含详细信息的新问题

## 许可证

EasyKiConverter 采用 GNU General Public License v3.0 (GPL-3.0) 许可证。

## 致谢

本项目参考了 [uPesy/easyeda2kicad.py](https://github.com/uPesy/easyeda2kicad.py) 项目的设计和算法。感谢原作者提供的优秀基础框架和核心转换算法。